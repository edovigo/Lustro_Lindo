<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>LustroLindo ‚Äì Dashboard Cleaner</title>
<link rel="icon" type="image/svg+xml" href="favicon.svg">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  font-family: 'Inter', system-ui, sans-serif;
  background-color: #F7F4EB;
  color: #0A2342;
}

header {
  background: #ffffff;
  padding: 15px 40px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  position: sticky;
  top: 0;
  z-index: 1000;
}

.logo {
  font-weight: 800;
  font-size: 22px;
  color: #0A2342;
  display: flex;
  align-items: center;
  gap: 8px;
}

.sparkle {
  color: #0077CC;
  animation: sparklePulse 1.4s ease-in-out infinite;
}

@keyframes sparklePulse {
  0%,100% { transform: scale(1); opacity: .8; }
  50% { transform: scale(1.3); opacity: 1; }
}

.lang-toggle {
  cursor:pointer;
  font-weight:bold;
  font-size:20px;
  transition: transform 0.2s;
}
.lang-toggle:hover { transform: scale(1.1); }

.logout-btn {
  background: #0A2342;
  color: #fff;
  font-weight: 600;
  border: none;
  padding: 10px 18px;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 14px;
}
.logout-btn:hover { opacity: .85; }

main { max-width: 1100px; margin: 40px auto; padding: 0 20px; }
h1 { font-size: 28px; margin-bottom: 10px; font-weight: 800; }
.section { background: #ffffff; border-radius: 22px; box-shadow: 0 10px 25px rgba(0,0,0,0.08); padding: 25px; margin-top: 25px; }
.section h2 { font-size: 20px; margin-bottom: 15px; color: #0A2342; font-weight: 800; }

/* Prossimi lavori */
.job-list { display: grid; gap: 15px; }
.job-item { 
  background: linear-gradient(135deg, rgba(247,251,255,0.8), rgba(255,255,255,1));
  border: 2px solid #e5e7eb;
  padding: 18px;
  border-radius: 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: all 0.3s;
}
.job-item:hover {
  border-color: #0077CC;
  box-shadow: 0 10px 25px rgba(0,119,204,0.15);
}
.job-info { display: flex; flex-direction: column; gap: 6px; flex: 1; }
.job-title { font-weight: 700; font-size: 16px; color: #0A2342; }
.job-meta { font-size: 14px; color: #6b7280; display: flex; gap: 12px; align-items: center; }
.job-earnings { 
  font-weight: 800;
  font-size: 20px;
  color: #0A2342;
  margin-right: 16px;
}
.job-badge {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 8px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.5px;
}
.badge-new { background: #dbeafe; color: #1e40af; }
.badge-urgent { background: #fee2e2; color: #991b1b; }
.badge-premium { background: #fef3c7; color: #92400e; }

.job-btn { padding: 10px 18px; border-radius: 12px; font-weight:600; font-size:14px; cursor:pointer; border:none; transition:all 0.3s; }
.view-btn { background:#0A2342; color:white; }
.view-btn:hover { opacity: .85; }

/* Guadagni settimanali */
.earnings-section { display:flex; flex-direction:column; }
.week-shifts { display: flex; flex-direction: column; gap: 12px; }
.shift-item {
  background: linear-gradient(135deg, rgba(10,35,66,0.03), rgba(0,119,204,0.03));
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.shift-info { display: flex; flex-direction: column; gap: 4px; }
.shift-date { font-weight: 700; font-size: 14px; color: #0A2342; }
.shift-details { font-size: 13px; color: #6b7280; }
.shift-earnings { font-weight: 800; font-size: 18px; color: #0A2342; }

.earnings-summary {
  margin-top: 20px;
  padding: 20px;
  background: linear-gradient(135deg, rgba(0,119,204,0.1), rgba(10,35,66,0.05));
  border-radius: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.summary-label { font-size: 14px; color: #6b7280; font-weight: 600; }
.summary-total { font-size: 32px; font-weight: 800; color: #0A2342; }
.summary-meta { font-size: 13px; color: #6b7280; margin-top: 4px; }

/* Calendario */
.calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 12px; margin-top:10px; }
.calendar-day { 
  background: linear-gradient(135deg, rgba(247,251,255,0.8), rgba(255,255,255,1));
  border: 2px solid #e5e7eb;
  border-radius: 12px;
  padding: 12px;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 14px;
  min-height: 80px;
}
.calendar-day:hover { 
  border-color: #0077CC;
  box-shadow: 0 5px 15px rgba(0,119,204,0.1);
}
.calendar-day h3 { margin:0 0 8px 0; font-weight:700; font-size: 14px; color: #0A2342; }
.calendar-day .event { 
  font-size:12px;
  color:#4b5563;
  margin-top:6px;
  padding: 6px;
  background: rgba(0,119,204,0.08);
  border-radius: 6px;
}
.calendar-day .no-event {
  font-size:12px;
  color:#9ca3af;
  font-style: italic;
}

footer { text-align:center; color:#6b7280; font-size:13px; margin-top:40px; padding:20px 0; }

/* Popup */
#popup { display:none; position:fixed; inset:0; background: rgba(0,0,0,0.5); backdrop-filter: blur(4px); justify-content:center; align-items:center; z-index:10000; }
#popup > div { 
  background:#fff;
  padding:30px;
  border-radius:16px;
  text-align:center;
  box-shadow:0 20px 60px rgba(0,0,0,0.3);
  animation:fadeIn 0.3s ease;
  max-width:90%;
  max-width: 500px;
}
@keyframes fadeIn { from{opacity:0; transform:translateY(10px);} to{opacity:1; transform:translateY(0);} }
#popup h3 { margin: 0 0 16px 0; font-size: 20px; font-weight: 800; color: #0A2342; }
#popup p { margin: 0 0 20px 0; color: #6b7280; line-height: 1.6; }
#popup button { font-weight:600; font-size:14px; padding:10px 18px; border-radius:12px; cursor:pointer; border:none; transition:all 0.3s; }
#popup .accept-btn { background:#0A2342; color:white; }
#popup .accept-btn:hover { opacity: .85; }
#popup .reject-btn { background:#DC2626; color:white; }
#popup .reject-btn:hover { opacity: .85; }
#popup .close-btn { background:#6b7280; color:white; }
#popup .close-btn:hover { opacity: .85; }
</style>
</head>
<body>

<header>
  <div class="logo">LustroLindo <span class="sparkle">‚ú¶</span></div>

  <div style="position: absolute; left: 50%; transform: translateX(-50%); display:flex; gap:15px; align-items:center;">
    <span class="lang-toggle" onclick="setLang('it')">üáÆüáπ</span>
    <span class="lang-toggle" onclick="setLang('en')">üá¨üáß</span>
  </div>

  <button class="logout-btn" id="logoutBtn">Logout</button>
</header>

<main>
  <h1 id="welcome">Welcome back, Cleaner! üëã</h1>
  <p style="color:#6b7280;" id="subtitle">Here you'll find your shifts, earnings and confirmed appointments.</p>

  <!-- Prossimi lavori -->
  <div class="section">
    <h2 id="jobs-title">Your upcoming jobs</h2>
    <div class="job-list" id="jobList"></div>
  </div>

  <!-- Guadagni settimanali -->
  <div class="section earnings-section">
    <h2 id="earnings-title">This week's shifts</h2>
    <div class="week-shifts" id="weekShifts"></div>
    <div class="earnings-summary">
      <div>
        <div class="summary-label" id="summary-label">Total this week</div>
        <div class="summary-total" id="summary-total">‚Ç¨418</div>
        <div class="summary-meta" id="summary-meta">12 shifts completed ‚Ä¢ 38h worked</div>
      </div>
      <div style="text-align: right;">
        <div style="font-size: 14px; color: #6b7280; font-weight: 600;" id="avg-label">Average hourly</div>
        <div style="font-size: 24px; font-weight: 800; color: #0A2342;">‚Ç¨11/h</div>
      </div>
    </div>
  </div>

  <!-- Calendario -->
  <div class="section">
    <h2 id="calendar-title">Work calendar</h2>
    <div class="calendar-grid" id="calendarGrid"></div>
  </div>
</main>

<footer>¬© 2025 LustroLindo ‚Äî The future of living.</footer>

<!-- Popup dettagli lavoro -->
<div id="popup">
  <div>
    <h3 id="popupTitle">Job details</h3>
    <p id="popupText"></p>
    <div style="display:flex; justify-content:center; gap:10px; flex-wrap:wrap; margin-top:15px;">
      <button class="accept-btn" id="popupAccept">Accept</button>
      <button class="reject-btn" id="popupReject">Reject</button>
      <button class="close-btn" onclick="closePopup()" id="popupClose">Close</button>
    </div>
  </div>
</div>

<script>
// ‚úÖ TRADUZIONI IT/EN
const text = {
  en: {
    welcome: "Welcome back, Cleaner! üëã",
    subtitle: "Here you'll find your shifts, earnings and confirmed appointments.",
    jobsTitle: "Your upcoming jobs",
    earningsTitle: "This week's shifts",
    calendarTitle: "Work calendar",
    jobDetails: "Job details",
    accept: "Accept",
    reject: "Reject",
    close: "Close",
    view: "View",
    noJobs: "‚ú® All jobs have been assigned. üöÄ Get ready for the next ones! ‚ú®",
    noJobsDay: "No shifts",
    weekDays: ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],
    summaryLabel: "Total this week",
    summaryMeta: "shifts completed ‚Ä¢ %h worked",
    avgLabel: "Average hourly",
    newBadge: "NEW",
    urgentBadge: "URGENT",
    premiumBadge: "PREMIUM"
  },
  it: {
    welcome: "Bentornato, Cleaner! üëã",
    subtitle: "Qui trovi i tuoi turni, guadagni e appuntamenti confermati.",
    jobsTitle: "I tuoi prossimi lavori",
    earningsTitle: "Turni di questa settimana",
    calendarTitle: "Calendario lavori",
    jobDetails: "Dettagli lavoro",
    accept: "Accetta",
    reject: "Rifiuta",
    close: "Chiudi",
    view: "Vedi",
    noJobs: "‚ú® Tutti i lavori sono stati assegnati. üöÄ Preparati per i prossimi! ‚ú®",
    noJobsDay: "Nessun turno",
    weekDays: ['Lun','Mar','Mer','Gio','Ven','Sab','Dom'],
    summaryLabel: "Totale settimana",
    summaryMeta: "turni completati ‚Ä¢ %h lavorate",
    avgLabel: "Media oraria",
    newBadge: "NUOVO",
    urgentBadge: "URGENTE",
    premiumBadge: "PREMIUM"
  }
};

let currentLang = 'en';
function setLang(lang){
  currentLang = lang;
  document.getElementById('welcome').innerText = text[lang].welcome;
  document.getElementById('subtitle').innerText = text[lang].subtitle;
  document.getElementById('jobs-title').innerText = text[lang].jobsTitle;
  document.getElementById('earnings-title').innerText = text[lang].earningsTitle;
  document.getElementById('calendar-title').innerText = text[lang].calendarTitle;
  document.getElementById('popupAccept').innerText = text[lang].accept;
  document.getElementById('popupReject').innerText = text[lang].reject;
  document.getElementById('popupClose').innerText = text[lang].close;
  document.getElementById('summary-label').innerText = text[lang].summaryLabel;
  document.getElementById('avg-label').innerText = text[lang].avgLabel;
  renderJobs();
  renderWeekShifts();
  renderCalendar();
}

// ‚úÖ LOGOUT
const logoutBtn = document.getElementById("logoutBtn");
logoutBtn.addEventListener("click", ()=>{
  localStorage.removeItem('lustro_user');
  window.location.href="index.html";
});

// ‚úÖ JOBS con guadagni reali
const jobs = [
  { 
    title: "üè† Apartment ‚Äì Milan Center", 
    date: "18 Nov", 
    time: "09:00 - 12:00",
    hours: 3,
    rate: 11,
    location: "Via Tortona 15", 
    details: "Essentials plan: kitchen, bathroom, living room",
    badge: "new"
  },
  { 
    title: "üè¢ Office ‚Äì Porta Romana", 
    date: "20 Nov", 
    time: "14:00 - 17:00",
    hours: 3,
    rate: 12,
    location: "Corso Buenos Aires 42", 
    details: "Premium plan: desks, floors, meeting room",
    badge: "premium"
  },
  { 
    title: "üè° Villa ‚Äì San Siro", 
    date: "22 Nov", 
    time: "10:00 - 14:00",
    hours: 4,
    rate: 13,
    location: "Via Novara 88", 
    details: "Elite plan: complete cleaning + garden",
    badge: "urgent"
  }
];

const jobList = document.getElementById("jobList");
function renderJobs() {
  jobList.innerHTML = "";
  if(jobs.length===0){
    jobList.innerHTML=`<div style="color:#4b5563; font-style:italic; text-align:center; padding:20px;">${text[currentLang].noJobs}</div>`;
    return;
  }
  jobs.forEach((job,idx)=>{
    const earnings = job.hours * job.rate;
    const badgeClass = job.badge === 'new' ? 'badge-new' : job.badge === 'urgent' ? 'badge-urgent' : 'badge-premium';
    const badgeText = job.badge === 'new' ? text[currentLang].newBadge : job.badge === 'urgent' ? text[currentLang].urgentBadge : text[currentLang].premiumBadge;
    
    const div = document.createElement("div");
    div.className="job-item";
    div.innerHTML=`
      <div class="job-info">
        <div class="job-title">${job.title}</div>
        <div class="job-meta">
          <span>${job.date} ‚Ä¢ ${job.time}</span>
          <span class="job-badge ${badgeClass}">${badgeText}</span>
        </div>
      </div>
      <div style="display:flex; align-items:center; gap:16px;">
        <div class="job-earnings">‚Ç¨${earnings}</div>
        <button class="job-btn view-btn">${text[currentLang].view}</button>
      </div>
    `;
    const viewBtn = div.querySelector(".view-btn");
    viewBtn.onclick = ()=>{
      showPopup(job,idx);
    };
    jobList.appendChild(div);
  });
}
renderJobs();

function showPopup(job,index){
  const earnings = job.hours * job.rate;
  document.getElementById("popupTitle").innerText = text[currentLang].jobDetails;
  document.getElementById("popupText").innerHTML = `
    <strong>${job.title}</strong><br>
    üìÖ ${job.date} ‚Ä¢ ${job.time}<br>
    üìç ${job.location}<br>
    üí∞ ‚Ç¨${earnings} (${job.hours}h √ó ‚Ç¨${job.rate}/h)<br><br>
    ${job.details}
  `;
  document.getElementById("popup").style.display="flex";

  const acceptBtn=document.getElementById("popupAccept");
  const rejectBtn=document.getElementById("popupReject");

  acceptBtn.onclick = ()=>{
    addToCalendar(job);
    jobs.splice(index,1);
    renderJobs();
    closePopup();
  };
  rejectBtn.onclick = ()=>{
    jobs.splice(index,1);
    renderJobs();
    closePopup();
  };
}

function closePopup(){ document.getElementById("popup").style.display="none"; }

// ‚úÖ WEEK SHIFTS con guadagni reali
const weekShifts = [
  { date: "Mon 18 Nov", time: "09:00-12:00", location: "Via Tortona 15", hours: 3, rate: 11 },
  { date: "Mon 18 Nov", time: "14:00-17:00", location: "Corso Como 8", hours: 3, rate: 11 },
  { date: "Tue 19 Nov", time: "10:00-13:00", location: "Via Montenapoleone 12", hours: 3, rate: 12 },
  { date: "Wed 20 Nov", time: "09:00-12:00", location: "Porta Romana 42", hours: 3, rate: 12 },
  { date: "Wed 20 Nov", time: "14:00-18:00", location: "San Siro 88", hours: 4, rate: 13 },
  { date: "Thu 21 Nov", time: "10:00-13:00", location: "Navigli 33", hours: 3, rate: 11 },
  { date: "Fri 22 Nov", time: "09:00-12:00", location: "Brera 7", hours: 3, rate: 11 },
  { date: "Fri 22 Nov", time: "15:00-18:00", location: "Isola 55", hours: 3, rate: 11 },
  { date: "Sat 23 Nov", time: "10:00-14:00", location: "Duomo 1", hours: 4, rate: 13 },
  { date: "Sat 23 Nov", time: "15:00-18:00", location: "Garibaldi 22", hours: 3, rate: 12 },
  { date: "Sun 24 Nov", time: "10:00-13:00", location: "Loreto 45", hours: 3, rate: 12 },
  { date: "Sun 24 Nov", time: "14:00-17:00", location: "Lambrate 90", hours: 3, rate: 11 }
];

const weekShiftsContainer = document.getElementById("weekShifts");
function renderWeekShifts() {
  weekShiftsContainer.innerHTML = "";
  let totalEarnings = 0;
  let totalHours = 0;
  
  weekShifts.forEach(shift => {
    const earnings = shift.hours * shift.rate;
    totalEarnings += earnings;
    totalHours += shift.hours;
    
    const div = document.createElement("div");
    div.className = "shift-item";
    div.innerHTML = `
      <div class="shift-info">
        <div class="shift-date">${shift.date}</div>
        <div class="shift-details">üìç ${shift.location} ‚Ä¢ ${shift.time}</div>
      </div>
      <div class="shift-earnings">‚Ç¨${earnings}</div>
    `;
    weekShiftsContainer.appendChild(div);
  });
  
  // Update summary
  document.getElementById('summary-total').innerText = `‚Ç¨${totalEarnings}`;
  document.getElementById('summary-meta').innerText = text[currentLang].summaryMeta.replace('%', weekShifts.length).replace('%h', totalHours + 'h');
}
renderWeekShifts();

// ‚úÖ CALENDARIO con turni reali
const calendarJobs=[];
function addToCalendar(job){
  calendarJobs.push(job);
  renderCalendar();
}

const calendarGrid=document.getElementById("calendarGrid");
function renderCalendar(){
  calendarGrid.innerHTML="";
  const weekDays = text[currentLang].weekDays;
  
  // Mock: alcuni giorni hanno turni, altri no
  const mockCalendar = [
    { day: weekDays[0], shifts: 2, hours: 6 },
    { day: weekDays[1], shifts: 1, hours: 3 },
    { day: weekDays[2], shifts: 2, hours: 7 },
    { day: weekDays[3], shifts: 1, hours: 3 },
    { day: weekDays[4], shifts: 2, hours: 6 },
    { day: weekDays[5], shifts: 2, hours: 7 },
    { day: weekDays[6], shifts: 2, hours: 6 }
  ];
  
  mockCalendar.forEach((day,idx)=>{
    const dayDiv=document.createElement("div");
    dayDiv.className="calendar-day";
    
    if(day.shifts > 0) {
      dayDiv.innerHTML=`
        <h3>${day.day}</h3>
        <div class="event">${day.shifts} ${day.shifts === 1 ? 'shift' : 'shifts'}<br>${day.hours}h total</div>
      `;
    } else {
      dayDiv.innerHTML=`
        <h3>${day.day}</h3>
        <div class="no-event">${text[currentLang].noJobsDay}</div>
      `;
    }
    
    calendarGrid.appendChild(dayDiv);
  });
}
renderCalendar();

// Init lang
setLang('en');
</script>
</body>
</html>
