<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LustroLindo</title>
<link rel="icon" type="image/svg+xml" href="favicon.svg">
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

<style>
  body { background:#F7F4EB; font-family:system-ui, sans-serif; }
  .navy { color:#0A2342; }
  .bg-navy { background:#0A2342; }
  .btn-primary { background:#0A2342; color:white; border-radius:12px; padding:14px 24px; font-weight:600; transition:.2s; }
  .btn-primary:hover{opacity:.85;}
  .card{background:white;border-radius:22px;box-shadow:0 10px 25px rgba(0,0,0,.08);}
  .lang-toggle {cursor:pointer; font-weight:bold;}
  .dropdown {position:relative; display:inline-block;}
  .dropdown-content {display:none; position:absolute; right:0; background:white; min-width:160px; box-shadow:0 8px 16px rgba(0,0,0,.2); border-radius:12px; z-index:1;}
  .dropdown-content button {padding:12px 16px; display:block; width:100%; text-align:left; border:none; background:none; cursor:pointer;}
  .dropdown:hover .dropdown-content {display:block;}
  .dropdown-content button:hover {background:#f2f2f2;}

  /* RIGHT SLIDE PANEL */
  #bookingPanel {
    position: fixed;
    top: 0;
    right: -420px;
    width: 420px;
    height: 100vh;
    background: white;
    box-shadow: -4px 0 25px rgba(0,0,0,.15);
    padding: 28px;
    transition: right .35s ease;
    z-index: 60;
    overflow-y: auto;
  }
  #bookingPanel.open { right: 0; }
  .field-label { font-weight:600; margin-bottom:6px; display:block; color:#374151; }
  input[type="text"], input[type="email"], input[type="date"], select {
    width:100%; padding:12px; border:1px solid #e5e7eb; border-radius:10px; margin-bottom:12px; font-size:15px;
  }
  .timeslot { width:100%; padding:10px; border:1px solid #e5e7eb; border-radius:8px; margin-bottom:12px; }

  /* cleaners list inside panel */
  .cleaner-card { display:flex; gap:12px; align-items:center; padding:12px; background:#F8FAFC; border-radius:12px; margin-bottom:10px; border:1px solid #eef2f7; cursor:pointer; }
  .cleaner-selected { outline: 3px solid rgba(10, 132, 255, 0.12); background: #eef6ff; }
  .avatar { width:44px; height:44px; border-radius:10px; display:flex; align-items:center; justify-content:center; font-weight:700; background:linear-gradient(90deg,#e6f0ff,#cfe6ff); color:var(--navy); }

  /* shifts modal placeholder for Access shifts */
  #shiftsPlaceholder {
    position: fixed; left:50%; top:50%; transform:translate(-50%,-50%); width:520px; max-width:94vw; background:white; border-radius:12px; padding:20px; box-shadow:0 20px 60px rgba(8,12,20,0.12); z-index:80; display:none;
  }
  #shiftsPlaceholder.show { display:block; }

  @media (max-width:880px){
    #bookingPanel { width: 92vw; right: -100vw; }
  }

  /* ‚úÖ Logo LustroLindo con sparkle animata */
  @keyframes sparklePulse {
    0%, 100% { transform: scale(1); opacity: .9; }
    50% { transform: scale(1.45); opacity: 1; }
  }
  #lustroSparkle { animation: sparklePulse 1.4s ease-in-out infinite; transform-origin:center; }
</style>
</head>

<body>
<!-- Login panel: paste this whole block before </body> -->
<style>
  /* Scoped styles to avoid collisions */
  #loginComponent { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; --ll-navy: #0A2342; --ll-accent:#00A3FF; --glass: rgba(255,255,255,0.7); }
  #loginOverlay { position: fixed; inset: 0; background: rgba(6,10,15,0.45); display: none; align-items: center; justify-content: center; z-index: 120; }
  #loginCard { width: 920px; max-width: 94vw; border-radius: 16px; overflow: hidden; display: flex; box-shadow: 0 30px 80px rgba(8,12,20,.25); background: linear-gradient(180deg,#ffffff,#fbfdff); }
  .ll-left { width: 42%; min-width: 300px; padding: 36px; background: linear-gradient(180deg,#f7fbff,#f2f8ff); display:flex; flex-direction:column; gap:14px; align-items:flex-start; justify-content:center; }
  .ll-right { width: 58%; padding: 36px; display:flex; flex-direction:column; gap:14px; }
  .ll-h1 { font-size:20px; font-weight:800; color:var(--ll-navy); margin:0; }
  .ll-p { color:#475569; font-size:14px; margin:0; }
  .social-btn { width:100%; display:flex; gap:10px; align-items:center; justify-content:center; padding:10px 12px; border-radius:10px; border:1px solid #e6eef9; background:white; cursor:pointer; font-weight:600; }
  .divider { display:flex; align-items:center; gap:12px; color:#9aa4b2; font-size:13px; }
  .divider::before, .divider::after { content:""; flex:1; height:1px; background:#e6eef9; display:block; border-radius:2px; }
  .field { display:flex; flex-direction:column; gap:8px; margin-bottom:6px; }
  .input { padding:12px 14px; border-radius:10px; border:1px solid #e6eef9; font-size:15px; outline:none; }
  .input:focus{ box-shadow:0 4px 18px rgba(10,163,255,0.12); border-color:var(--ll-accent); }
  .muted { font-size:13px; color:#6b7280; }
  .btn-cta { background:var(--ll-navy); color:white; padding:12px 16px; border-radius:12px; font-weight:700; cursor:pointer; border:none; }
  .small-link { color:var(--ll-accent); font-weight:600; cursor:pointer; }
  .flex-row { display:flex; gap:10px; align-items:center; }
  .forgot { color:#6b7280; font-size:13px; cursor:pointer; }
  .checkbox { width:16px; height:16px; }
  .success-check { width:80px; height:80px; border-radius:999px; background:linear-gradient(90deg,#00a3ff,#00eda8); display:flex; align-items:center; justify-content:center; color:white; font-weight:800; font-size:20px; margin:auto; }
  .visually-hidden { position:absolute!important; left:-9999px!important; top:auto!important; width:1px!important; height:1px!important; overflow:hidden!important;}
  @media (max-width:900px) {
    #loginCard { flex-direction:column; width: 92vw; }
    .ll-left{ width:100%; padding:20px; text-align:center; align-items:center;}
    .ll-right{ width:100%; padding:20px;}
  }
</style>

<div id="loginComponent" aria-hidden="true">
  <div id="loginOverlay" role="dialog" aria-modal="true" aria-labelledby="loginTitle" tabindex="-1">
    <div id="loginCard" role="document" aria-describedby="loginSubtitle">
      <!-- Left: brand + USP -->
      <div class="ll-left">
        <!-- Logo small -->
        <div style="display:flex;align-items:center;gap:12px;">
          <svg width="140" height="30" viewBox="0 0 320 55" xmlns="http://www.w3.org/2000/svg" aria-hidden>
            <defs><style>.t{font-family:Inter,system-ui;font-weight:800;font-size:28px;fill:var(--ll-navy)}</style></defs>
            <text class="t" x="0" y="30">LustroLindo</text>
            <g transform="translate(215,3)" fill="#00A3FF"><polygon id="lustroSparkleMini" points="8,0 11,6 17,8 11,10 8,17 5,10 0,8 5,6"/></g>
          </svg>
        </div>

        <h3 class="ll-h1" id="loginTitle">Welcome back ‚Äî let‚Äôs get you sparkling ‚ú®</h3>
        <p class="ll-p" id="loginSubtitle">Secure access to your dashboard. Sign in quickly using password, magic link, or continue with Google / Apple.</p>

        <div style="margin-top:8px; width:100%;">
          <div class="divider">Secure ‚Ä¢ Fast ‚Ä¢ Scalable</div>
        </div>

        <div style="margin-top:18px; display:flex; gap:10px; width:100%;">
          <div style="flex:1; display:flex; gap:8px; align-items:center;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 12a4 4 0 100-8 4 4 0 000 8zM3 20v-1c0-2.5 4-5 9-5s9 2.5 9 5v1H3z" fill="#0A2342"/></svg>
            <div style="font-size:14px;color:#334155;"><strong>Team</strong> accounts ready</div>
          </div>
        </div>

      </div>

      <!-- Right: form -->
      <div class="ll-right">
        <div style="display:flex; justify-content:space-between; align-items:center;">
          <div>
            <div style="font-size:14px;color:#94a3b8;font-weight:700;">Sign in to</div>
            <div style="font-size:18px;font-weight:800;color:var(--ll-navy);">Dashboard</div>
          </div>
          <button aria-label="Close login" id="closeLogin" style="background:none;border:none;font-size:22px;color:#374151;cursor:pointer">‚úï</button>
        </div>

        <!-- Social -->
        <div style="display:grid; gap:10px; margin-top:8px;">
          <button class="social-btn" id="btnGoogle" title="Continue with Google">
            <svg width="18" height="18" viewBox="0 0 533.5 544.3" aria-hidden><path fill="#4285F4" d="M533.5 278.4c0-17.6-1.6-34.6-4.6-51.1H272v96.8h146.9c-6.3 34-25.4 62.9-54.2 82.3v68.4h87.6c51.3-47.2 80.2-116.8 80.2-196.4z"/></svg>
            Continue with Google
          </button>
          <div style="display:flex; gap:10px;">
            <button class="social-btn" id="btnApple" style="flex:1" title="Continue with Apple">
              <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden><path fill="currentColor" d="M16.365 1.43c-.9.02-2.04.62-2.7 1.37-.58.68-1.1 1.74-.91 2.76 1.02.07 2.18-.58 2.8-1.35.57-.71 1.06-1.8.81-2.78zM12 6.6c-2.7 0-4.9 2.22-4.9 4.9 0 2.7 2.2 4.9 4.9 4.9 2.7 0 4.9-2.2 4.9-4.9C16.9 8.8 14.7 6.6 12 6.6z"/></svg>
              Apple
            </button>
            <button class="social-btn" id="btnDemo" style="flex:1" title="Demo login">
              üöÄ Demo
            </button>
          </div>
        </div>

        <div style="height:6px"></div>
        <div class="divider">or sign in with email</div>

        <!-- Form -->
        <form id="loginForm" novalidate style="margin-top:10px;">
          <div class="field">
            <label class="field-label" for="loginEmail">Email</label>
            <input id="loginEmail" class="input" type="email" autocomplete="email" placeholder="you@company.com" required>
            <div id="emailError" class="muted" style="display:none;color:#ef4444;font-weight:600;"></div>
          </div>

          <div class="field">
            <label class="field-label" for="loginPassword">Password</label>
            <div style="position:relative; display:flex;">
              <input id="loginPassword" class="input" type="password" autocomplete="current-password" placeholder="Your password" required style="flex:1;">
              <button type="button" id="togglePwd" aria-label="Show password" style="position:absolute; right:8px; top:8px; background:none; border:none; cursor:pointer; font-weight:700; color:#64748b">show</button>
            </div>
          </div>

          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:4px;">
            <label class="flex-row muted"><input id="rememberMe" class="checkbox" type="checkbox"> Remember me</label>
            <div class="forgot" id="forgotLink">Forgot?</div>
          </div>

          <button id="submitLogin" class="btn-cta" type="button" style="width:100%; margin-top:6px;">Sign in</button>
        </form>

        <div style="display:flex; align-items:center; gap:8px; margin-top:10px;">
          <div class="muted">New here?</div>
          <div class="small-link" id="signupLink">Create an account</div>
        </div>

        <!-- Footer microcopy -->
        <div style="margin-top:14px;font-size:13px;color:#94a3b8;">
          <div>Two-factor authentication supported ‚Ä¢ <span class="small-link" id="security">Security</span></div>
        </div>

      </div>
    </div>
  </div>
</div>

<!-- Forgot / Magic link modal (simple) -->
<div id="magicOverlay" style="display:none; position:fixed; inset:0; z-index:130; align-items:center; justify-content:center; background:rgba(6,10,15,0.45);">
  <div style="background:white;border-radius:12px;padding:20px;width:420px;max-width:92vw;box-shadow:0 20px 60px rgba(8,12,20,.12);">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
      <div style="font-weight:800;color:var(--ll-navy)">Send a magic link</div>
      <button onclick="closeMagic()" style="background:none;border:none;font-size:18px;cursor:pointer">‚úï</button>
    </div>
    <div style="margin-bottom:8px;color:#475569">Enter your email and we'll send a one-time sign-in link.</div>
    <input id="magicEmail" class="input" placeholder="you@company.com" type="email">
    <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px;">
      <button onclick="closeMagic()" class="small-link">Cancel</button>
      <button onclick="sendMagic()" class="btn-cta">Send link</button>
    </div>
  </div>
</div>

<!-- Success feedback (small centered card) -->
<div id="loginSuccess" style="display:none; position:fixed; inset:0; z-index:140; align-items:center; justify-content:center;">
  <div style="background:linear-gradient(180deg,#ffffff,#f7fffb); border-radius:14px;padding:28px; width:420px; max-width:92vw; text-align:center; box-shadow:0 30px 90px rgba(8,12,20,.18);">
    <div class="success-check">‚úì</div>
    <h3 style="margin-top:12px;font-weight:800;color:var(--ll-navy)">Welcome back</h3>
    <p style="color:#475569;margin-top:8px">Sei dentro ‚Äî ti mando alla dashboard demo.</p>
    <div style="margin-top:18px;"><button class="btn-cta" onclick="closeSuccess()">Go to dashboard</button></div>
  </div>
</div>

<script>
/* Login panel JS: behaviour, validation, demo flows */
(function(){
  const overlay = document.getElementById('loginOverlay');
  const btn = document.getElementById('loginBtn');
  const closeBtn = document.getElementById('closeLogin');
  const submit = document.getElementById('submitLogin');
  const togglePwd = document.getElementById('togglePwd');
  const emailInput = document.getElementById('loginEmail');
  const pwdInput = document.getElementById('loginPassword');
  const emailErr = document.getElementById('emailError');
  const demoBtn = document.getElementById('btnDemo');
  const magicOverlay = document.getElementById('magicOverlay');
  const magicEmail = document.getElementById('magicEmail');
  const success = document.getElementById('loginSuccess');
  const closeMagicBtn = window.closeMagic = ()=>{ magicOverlay.style.display='none'; }
  window.sendMagic = ()=> {
    const e = magicEmail.value.trim();
    if(!e || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){ alert('Insert a valid email'); return; }
    // simulazione invio link
    closeMagicBtn();
    alert((currentLang==='it'?'Link inviato a ':'Link sent to ') + e);
  };

  function open(){ overlay.style.display='flex'; overlay.focus(); btn.setAttribute('aria-expanded','true'); }
  function close(){ overlay.style.display='none'; btn.setAttribute('aria-expanded','false'); }
  btn.addEventListener('click', ()=> { open(); setTimeout(()=>emailInput.focus(),140); });

  closeBtn.addEventListener('click', close);
  overlay.addEventListener('click', (e)=>{ if(e.target===overlay) close(); });

  // toggle password visibility
  togglePwd.addEventListener('click', ()=> {
    if(pwdInput.type==='password'){ pwdInput.type='text'; togglePwd.innerText='hide'; }
    else { pwdInput.type='password'; togglePwd.innerText='show'; }
    pwdInput.focus();
  });

  // quick demo login
  demoBtn.addEventListener('click', ()=> {
    emailInput.value = 'demo@lustrolindo.test';
    pwdInput.value = 'demo1234';
    document.getElementById('rememberMe').checked = true;
    animateSignin();
  });

  // simple validation & simulate spinner -> success
  function validate(){
    const e = emailInput.value.trim();
    const p = pwdInput.value;
    if(!e || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){ emailErr.style.display='block'; emailErr.innerText = (currentLang==='it' ? 'Inserisci una email valida.' : 'Enter a valid email.'); return false; }
    emailErr.style.display='none';
    if(!p || p.length < 4){ alert(currentLang==='it' ? 'Password troppo corta.' : 'Password too short.'); return false; }
    return true;
  }

  function animateSignin(){
    if(!validate()) return;
    // micro-spinner on button
    const orig = submit.innerHTML;
    submit.disabled = true;
    submit.innerHTML = 'Signing in‚Ä¶';
    setTimeout(()=> {
      submit.disabled = false;
      submit.innerHTML = orig;
      close();
      showSuccess();
      // persist email if remember checked
      try{ if(document.getElementById('rememberMe').checked) localStorage.setItem('ll_last_email', emailInput.value.trim()); else localStorage.removeItem('ll_last_email'); }catch(e){}
    }, 900);
  }

  submit.addEventListener('click', animateSignin);

  // Enter key submit
  [emailInput, pwdInput].forEach(i=> i.addEventListener('keypress', (ev)=> { if(ev.key==='Enter'){ ev.preventDefault(); animateSignin(); } }));

  // Forgot -> magic link
  document.getElementById('forgotLink').addEventListener('click', ()=> { magicOverlay.style.display='flex'; setTimeout(()=>magicEmail.focus(),80); });

  // Social stubs
  document.getElementById('btnGoogle').addEventListener('click', ()=> alert((currentLang==='it'?'Google login (simulato)':'Google login (simulated)')));
  document.getElementById('btnApple').addEventListener('click', ()=> alert((currentLang==='it'?'Apple login (simulato)':'Apple login (simulated)')));

  // success modal controls
  window.showSuccess = ()=> { success.style.display='flex'; document.body.style.overflow='hidden'; }
  window.closeSuccess = ()=> { success.style.display='none'; document.body.style.overflow=''; /* redirect simulation */ console.log('redirect to dashboard (simulated)'); }

  // Prefill remembered email
  try{ const last = localStorage.getItem('ll_last_email'); if(last){ emailInput.value = last; document.getElementById('rememberMe').checked = true; } }catch(e){}

  // Accessibility: trap focus inside overlay when open (simple)
  document.addEventListener('keydown', (e)=>{
    if(e.key === 'Escape'){ if(overlay.style.display==='flex'){ close(); } else if(success.style.display==='flex'){ closeSuccess(); } else if(magicOverlay && magicOverlay.style.display==='flex'){ closeMagic(); } }
  });

  // Expose closeMagic for button
  window.closeMagic = closeMagicBtn;

})();
</script>
<!-- NAV -->
<header class="flex justify-between items-center p-6 bg-white shadow relative">
  <div class="text-2xl font-bold navy tracking-tight">
    <!-- Logo LustroLindo -->
    <svg width="270" height="55" viewBox="0 0 320 55" xmlns="http://www.w3.org/2000/svg" aria-label="LustroLindo logo">
      <defs><style>.t{font-family:Inter,system-ui;font-weight:800;font-size:30px;fill:#0A2342;}</style></defs>
      <text class="t" x="0" y="35">LustroLindo</text>
      <g transform="translate(225,5)" fill="#00A3FF"><polygon id="lustroSparkle" points="8,0 11,6 17,8 11,10 8,17 5,10 0,8 5,6"/></g>
    </svg>
  </div>
  <div class="flex gap-4 items-center absolute left-1/2 transform -translate-x-1/2">
    <span class="lang-toggle" onclick="setLang('it')">üáÆüáπ</span>
    <span class="lang-toggle" onclick="setLang('en')">üá¨üáß</span>
  </div>
  <!-- Header: Login button (replace previous button) -->
<div class="relative">
  <button id="loginBtn" class="btn-primary flex items-center gap-2" aria-haspopup="dialog" aria-controls="loginModal" aria-expanded="false">
    <!-- small user icon -->
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden class="inline-block">
      <path d="M12 12a4 4 0 100-8 4 4 0 000 8zm0 2c-5 0-9 2.5-9 5v1h18v-1c0-2.5-4-5-9-5z" fill="currentColor"/>
    </svg>
    Login
  </button>
</div>
</header>

<!-- HERO -->
<section class="text-center mt-24 mb-20 px-6">
  <h1 class="text-5xl font-extrabold navy mb-4 tracking-tight" id="hero-text">
    You take care of yourself.<br>We take care of the rest.
  </h1>
  <p class="text-lg text-gray-600 mb-8" id="hero-subtext">
    It‚Äôs not magic. It‚Äôs LustroLindo.
  </p>
  <button class="btn-primary text-lg px-8 py-3" onclick="openBooking()">Book now</button>
</section>

<!-- KPI CARDS -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6 px-6 mb-24">
  <div class="card p-8 text-center"><div class="text-4xl font-bold navy mb-2" id="kpi-bookings">52</div><div class="text-gray-600" id="kpi-bookings-text">Bookings today</div></div>
  <div class="card p-8 text-center"><div class="text-4xl font-bold navy mb-2" id="kpi-sat">98%</div><div class="text-gray-600" id="kpi-sat-text">Satisfied clients</div></div>
  <div class="card p-8 text-center"><div class="text-4xl font-bold navy mb-2" id="kpi-cleaners">14</div><div class="text-gray-600" id="kpi-cleaners-text">Active cleaners</div></div>
</div>

<!-- TWO MODE CTA -->
<section class="px-6 mb-20 grid md:grid-cols-2 gap-10">
  <div class="card p-10 text-center">
    <h2 class="text-2xl font-bold navy mb-2" id="cta-client">For clients</h2>
    <p class="text-gray-600 mb-6" id="cta-client-sub">Book, manage and relax.</p>
    <button class="btn-primary w-full py-3" onclick="openBooking()">Start booking</button>
  </div>
  <div class="card p-10 text-center">
    <h2 class="text-2xl font-bold navy mb-2" id="cta-cleaner">For cleaners</h2>
    <p class="text-gray-600 mb-6" id="cta-cleaner-sub">Ultra-optimized shifts with AI.</p>
    <button class="btn-primary w-full py-3" onclick="openShifts()">Access shifts</button>
  </div>
</section>

<footer class="text-center py-12 text-gray-500 text-sm" id="footer">¬© 2025 LustroLindo ‚Äî The future of living.</footer>

<!-- BOOKING PANEL -->
<div id="bookingPanel" aria-hidden="true">
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
    <div>
      <div style="font-size:12px;color:#6b7280" id="panel-kicker">Booking</div>
      <h3 class="text-2xl font-bold navy" id="panel-title">Book a Cleaning</h3>
    </div>
    <button id="closePanelBtn" style="background:none;border:none;font-size:20px;cursor:pointer" onclick="closeBooking()">‚úï</button>
  </div>
  <label class="block mb-2 font-semibold" id="lbl-name">Name</label>
  <input id="fldName" class="w-full p-3 border rounded-lg mb-4" placeholder="Your name">
  <label class="block mb-2 font-semibold" id="lbl-email">Email</label>
  <input id="fldEmail" type="email" class="w-full p-3 border rounded-lg mb-4" placeholder="Email">
  <label class="block mb-2 font-semibold" id="lbl-service">Service</label>
  <select id="fldService" class="w-full p-3 border rounded-lg mb-4">
    <option value="">-- Select service --</option>
    <option>Home cleaning</option>
    <option>Deep cleaning</option>
    <option>Move-In / Move-Out</option>
    <option>Airbnb turnover</option>
  </select>
  <div style="display:flex;gap:12px">
    <div style="flex:1">
      <label class="block mb-2 font-semibold" id="lbl-date">Date</label>
      <input id="fldDate" type="date" class="w-full p-3 border rounded-lg mb-4">
      <div id="formattedDate" style="font-size:13px;color:#6b7280;margin-top:-8px;margin-bottom:8px;display:none"></div>
    </div>
    <div style="width:140px">
      <label class="block mb-2 font-semibold" id="lbl-duration">Duration</label>
      <select id="fldDuration" class="w-full p-3 border rounded-lg mb-4">
        <option value="">--</option>
        <option value="2">2h</option>
        <option value="4">4h</option>
        <option value="6">6h</option>
      </select>
    </div>
  </div>
  <label class="block mb-2 font-semibold" id="lbl-timeslot">Time slot</label>
  <select id="fldTimeslot" class="w-full p-3 border rounded-lg mb-4">
    <option value="">-- Select time --</option>
    <option>09:00</option>
    <option>11:00</option>
    <option>13:00</option>
    <option>15:00</option>
    <option>17:00</option>
  </select>
  <div id="cleanersWrapper" style="display:none;margin-top:6px">
    <h4 class="text-md font-semibold mb-2">Available cleaners</h4>
    <div id="cleanersList"></div>
  </div>
  <button class="btn-primary w-full py-3" id="confirmBtn">Confirm</button>
  <button class="mt-4 w-full py-2 text-gray-600" onclick="closeBooking()">Close</button>
</div>

<!-- SHIFTS PLACEHOLDER -->
<div id="shiftsPlaceholder" role="dialog" aria-hidden="true">
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
    <h3 class="text-xl font-bold navy">Cleaner Dashboard</h3>
    <button style="background:none;border:none;font-size:20px;cursor:pointer" onclick="closeShiftsPlaceholder()">‚úï</button>
  </div>
  <p style="color:#6b7280">This area will be the cleaner dashboard (coming soon).</p>
  <div style="margin-top:14px;display:flex;gap:10px;justify-content:flex-end">
    <button class="btn-primary" onclick="closeShiftsPlaceholder()">Close</button>
  </div>
</div>

<script>
const text = {
  en: {
    hero: 'You take care of yourself.<br>We take care of the rest.',
    slogan: "It‚Äôs not magic. It‚Äôs LustroLindo.",
    panelTitle: 'Book a Cleaning',
    kicker: 'Booking',
    name: 'Name',
    email: 'Email',
    service: 'Service',
    date: 'Date',
    duration: 'Duration',
    timeslot: 'Time slot',
    confirm: 'Confirm',
    shiftsTitle: 'Available cleaners'
  },
  it: {
    hero: 'Prenditi cura di te.<br>Noi ci occupiamo del resto.',
    slogan: 'Non √® magia. √à LustroLindo.',
    panelTitle: 'Inizia la prenotazione',
    kicker: 'Prenotazione',
    name: 'Nome',
    email: 'Email',
    service: 'Servizio',
    date: 'Data',
    duration: 'Durata',
    timeslot: 'Fascia oraria',
    confirm: 'Conferma',
    shiftsTitle: 'Cleaner disponibili'
  }
};

let currentLang = 'en';
function setLang(lang){
  currentLang = lang;
  document.getElementById('hero-text').innerHTML = text[lang].hero;
  document.getElementById('hero-subtext').innerText = text[lang].slogan;
  document.getElementById('panel-title').innerText = text[lang].panelTitle;
  document.getElementById('panel-kicker').innerText = text[lang].kicker;
  document.getElementById('lbl-name').innerText = text[lang].name;
  document.getElementById('fldName').placeholder = (lang==='it'?'Nome':'Your name');
  document.getElementById('lbl-email').innerText = text[lang].email;
  document.getElementById('lbl-service').innerText = text[lang].service;
  document.getElementById('lbl-date').innerText = text[lang].date;
  document.getElementById('lbl-duration').innerText = text[lang].duration;
  document.getElementById('lbl-timeslot').innerText = text[lang].timeslot;
  document.getElementById('confirmBtn').innerText = text[lang].confirm;
}

function openBooking(){ 
  document.getElementById('bookingPanel').classList.add('open');
  document.getElementById('bookingPanel').setAttribute('aria-hidden','false');
  document.body.style.overflow = 'hidden';
}
function closeBooking(){ 
  document.getElementById('bookingPanel').classList.remove('open');
  document.getElementById('bookingPanel').setAttribute('aria-hidden','true');
  document.body.style.overflow = '';
}
function openShifts(){document.getElementById('shiftsPlaceholder').classList.add('show');}
function closeShiftsPlaceholder(){document.getElementById('shiftsPlaceholder').classList.remove('show');}

const sampleCleaners = [
  { name:'Giulia R.', rating:4.9, price:18, status:'Available', emoji:'üßº' },
  { name:'Marco V.', rating:4.7, price:20, status:'On job', emoji:'‚ú®' },
  { name:'Sara L.', rating:4.8, price:17, status:'Available', emoji:'üßΩ' }
];
let selectedCleanerIndex = null;

function formatToDDMMYYYY(isoDate){
  if(!isoDate) return '';
  const p = isoDate.split('-');
  if(p.length!==3) return isoDate;
  return `${p[2]}-${p[1]}-${p[0]}`;
}

function checkAndRenderCleaners(){
  const name = document.getElementById('fldName').value.trim();
  const email = document.getElementById('fldEmail').value.trim();
  const service = document.getElementById('fldService').value;
  const date = document.getElementById('fldDate').value;
  const duration = document.getElementById('fldDuration').value;
  const timeslot = document.getElementById('fldTimeslot').value;
  const allFilled = name && email && service && date && duration && timeslot;
  const wrapper = document.getElementById('cleanersWrapper');
  const list = document.getElementById('cleanersList');
  if(allFilled){
    wrapper.style.display = 'block';
    list.innerHTML = '';
    sampleCleaners.forEach((c, idx) => {
      const div = document.createElement('div');
      div.className = 'cleaner-card';
      div.dataset.idx = idx;
      div.innerHTML = `<div class="avatar">${c.emoji}</div>
      <div style="flex:1">
        <div style="display:flex;justify-content:space-between;align-items:center;font-weight:700;color:var(--navy);">
          <div>${c.name}</div>
          <div style="font-size:13px;color:#6b7280">‚≠ê ${c.rating}</div>
        </div>
        <div style="display:flex;gap:10px;margin-top:6px;font-size:13px;color:#374151;">
          <div style="font-weight:700;color:${c.status==='Available'?'green':'#c59b00'}">${c.status}</div>
          <div>‚Ç¨${c.price}/h</div>
        </div>
      </div>`;
      div.onclick = ()=>{ selectedCleanerIndex = idx; document.querySelectorAll('.cleaner-card').forEach(d=>d.classList.remove('cleaner-selected')); div.classList.add('cleaner-selected'); };
      list.appendChild(div);
    });
  } else {
    wrapper.style.display = 'none';
  }
}

// Event listeners
['fldName','fldEmail','fldService','fldDate','fldDuration','fldTimeslot'].forEach(id=>{
  document.getElementById(id).addEventListener('input', checkAndRenderCleaners);
  document.getElementById(id).addEventListener('change', checkAndRenderCleaners);
});

// Confirm button
document.getElementById('confirmBtn').addEventListener('click',()=>{
  if(selectedCleanerIndex===null){
    alert('Please select a cleaner first');
    return;
  }
  const c = sampleCleaners[selectedCleanerIndex];
  alert(`Booking confirmed with ${c.name}!`);
  closeBooking();
});

setLang('en'); // default
</script>
  <script>
  // Mostra il pannello di login al click del pulsante ‚ÄúLogin‚Äù
  const loginBtn = document.getElementById("loginBtn");
  const loginOverlay = document.getElementById("loginOverlay");
  const closeLogin = document.getElementById("closeLogin");

  loginBtn.addEventListener("click", () => {
    loginOverlay.style.display = "flex";
  });

  closeLogin.addEventListener("click", () => {
    loginOverlay.style.display = "none";
  });

  // Chiudi cliccando fuori dal riquadro
  loginOverlay.addEventListener("click", (e) => {
    if (e.target === loginOverlay) {
      loginOverlay.style.display = "none";
    }
  });
</script>
</body>
</html>
